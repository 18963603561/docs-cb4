<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="groups">
 
 <title>
  Groups
 </title>
 
 <shortdesc>
  Individual server-nodes can be assigned to specific <i>groups</i>, within
  a Couchbase Cluster. This allows <i>active</i> vBuckets to be maintained on a different group
  from that of their corresponding <i>replica</i> vBuckets; so that even
  if one group goes offline, bucket-data remains available on another group.
 </shortdesc>
 
 <body>
  
  <section id="understanding-groups">
   <title>
    Understanding Groups
   </title>
   
   <p>
    <i>Groups</i> provide enhanced availability: each group is defined by the administrator
    to contain a number of nodes within a given Couchbase Cluster. Once rebalance occurs, the active
    and replica vBuckets for a defined bucket are maintained on separate groups. This allows
    <i>Group Failover</i> to be enabled, so that in the event of an entire group going offline,
    its replica vBuckets (maintained on other groups within the cluster), are promoted to active status, and
    their data thereby kept accessible.
   </p>
   
   <p>
    Use of groups provides optimal data-protection when groups are assigned equal numbers of nodes; since this allows
    vBuckets to be distributed such that none
    ever occupies the same group as its associated active
    vBucket. By contrast, when groups are <i>not</i> assigned equal numbers of nodes,
    rebalance can only produce a <i>best effort</i> redistribution of replica vBuckets: this may result
    in cases of replica vBuckets
    occupying the same group as their associated active vBuckets; meaning that data 
    may be lost if such a group becomes unavailable.
   </p>
   
   <p>
    
   </p>
    
  </section>
  
  <section id="vbucket-distribution-across-groups">
   <title>
    vBucket Distribution Across Groups
   </title>
   
   <p>
    The following illustration shows how vBuckets, active and replica, are distributed across two
    groups, each containing four nodes.
   </p>
   
   <p>
    <image href="./images/groups-two-equal.png" width="780" align="left" id="groups_two_equal"/>
   </p>
  </section>
  

    
 </body>
 
</topic>
