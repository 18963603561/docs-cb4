<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="untitled1">
    <title>Index Partitioning</title>
    <shortdesc>How to create, drop, build, rebalance, and eliminate Index Partitioning, as well as, its impact on queries.</shortdesc>
    <body>
        <p><i>(Introduced in Couchbase Server 5.5)</i></p>
        <section id="section_bgn_glt_mdb">
            <title>Introduction</title>
            <p>Index Partitioning allows you to increase query performance by dividing and spreading
                a large index of documents across multiple nodes, horizontally scaling out an index
                as needed. The system will partition the index across a number of index nodes using
                hash partitioning in a way that is transparent to queries.</p>
            <p>Benefits of a partitioned index include:<ul id="ul_sfz_3lt_mdb">
                    <li>The ability to horizontally scale out as load increases.</li>
                    <li>Transparency to queries, requiring no change to existing queries.</li>
                    <li>Reduction of query latency for large aggregated queries since each partition
                        can be scanned in parallel.</li>
                    <li>For range query, partitioned index will only include partitions
                        participating in the query, as long as the partition keys match the equality
                        predicate or IN clause of the query. This allows low-range query latency,
                        while allowing indexes to be scaled out as needed. This is known as
                        partition elimination.</li>
                </ul></p>
        </section>
        <section id="section_ebq_xlt_mdb">
            <title>Create Index</title>
            <p>When creating a partitioned index, use the following
                syntax:<codeblock>CREATE INDEX idx_name ON bucket_name ( field_name [ , field_name2 ] * )
    PARTITION BY HASH partition_key_expr
    [ WITH { "num_partition": partition_int } ];</codeblock></p>
        </section>
        <p/>
    </body>
</topic>
